<mujoco model="touch_sensor_test">
  <compiler eulerseq="XYZ" fitaabb="true" angle="radian" autolimits="true"/>  
  <option timestep="0.001" gravity="0 0 -9.81"/> 

  <asset> 
     <texture name="skybox" type="skybox" builtin="gradient" rgb1="0.2 0.3 0.4" rgb2="0 0 0" width="1000" height="1000" mark="random" random="0.001" markrgb="1 1 1"/>  
     <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="1000" height="1000"/>  
     <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/> 
     <material name="cube_material" rgba="0.3 0.5 0.7 0.9"/>
     <material name="wood_material" rgba="0.82 0.71 0.55 1"/>
  </asset> 

  <worldbody>
    <geom name="floor" pos="0 0 0" size="0 0 1" type="plane" material="groundplane"/>
    <light directional="true" diffuse=".8 .8 .8" specular=".2 .2 .2" pos="0 0 5" dir="0 0 -1"/>

    <body name="flat_cube" pos="0 0 0.1">
      <joint type="free"/>
      <geom name="base_cube" type="box" size="0.6 0.6 0.05" material="cube_material" mass="10"/>
      
      <!-- 3x3 touch sensor array site -->
      <site name="sensor_1_1" type="sphere" size="0.01" pos="-0.4 -0.4 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_1_2" type="sphere" size="0.01" pos="-0.4 0 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_1_3" type="sphere" size="0.01" pos="-0.4 0.4 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_2_1" type="sphere" size="0.01" pos="0 -0.4 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_2_2" type="sphere" size="0.01" pos="0 0 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_2_3" type="sphere" size="0.01" pos="0 0.4 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_3_1" type="sphere" size="0.01" pos="0.4 -0.4 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_3_2" type="sphere" size="0.01" pos="0.4 0 0.05" rgba="1 0 0 1"/> 
      <site name="sensor_3_3" type="sphere" size="0.01" pos="0.4 0.4 0.05" rgba="1 0 0 1"/> 
    </body>

    <body name="wood_block" pos="0 0 1">
      <joint type="free"/>
      <geom name="block" type="sphere" size="0.15" material="wood_material" mass="10"/>
      <site name="block_sensor" type="sphere" size="0.01" pos="0 0 -0.15" rgba="0 1 0 0.5"/> 
    </body>
  </worldbody>
    
  <sensor>
      <touch name="touch_1_1" site="sensor_1_1"/>
      <touch name="touch_1_2" site="sensor_1_2"/>
      <touch name="touch_1_3" site="sensor_1_3"/>
      <touch name="touch_2_1" site="sensor_2_1"/>
      <touch name="touch_2_2" site="sensor_2_2"/>
      <touch name="touch_2_3" site="sensor_2_3"/>
      <touch name="touch_3_1" site="sensor_3_1"/>
      <touch name="touch_3_2" site="sensor_3_2"/>
      <touch name="touch_3_3" site="sensor_3_3"/>
      
      <touch name="block_bottom_sensor" site="block_sensor"/>
  </sensor>
</mujoco>